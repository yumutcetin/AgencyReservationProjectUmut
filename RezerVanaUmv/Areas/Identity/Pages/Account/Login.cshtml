@page
@model LoginModel
@using RezerVanaUmv.Resources

@{
    ViewData["Title"] = Resource.GirisYapBaslik;
    Layout = "~/Views/PageViews/UserLayout.cshtml";
    //ViewData["HideSidebar"] = true; // Hide the sidebar for this page
}

<!doctype html>
<html lang="tr">
<head>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/@@fontsource/source-sans-3@5.0.12/index.css" />
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.10.1/styles/overlayscrollbars.min.css" />
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
    <link rel="stylesheet" href="~/dist/css/adminlte.css" />
</head>
<body class="login-page bg-body-secondary">
    <p></p>
    <p></p>
    <center>
        <div class="login-box">
            <div class="card card-outline card-primary">
                <div class="card-header">
                    <a href=""
                       class="link-dark text-center link-offset-2 link-opacity-100 link-opacity-50-hover">
                        <h1 class="mb-0"><b>RezerVana</b></h1>
                    </a>
                </div>
                <div class="card-body login-card-body">
                    <p class="login-box-msg">@Resource.OturumAcMesaj</p>

                    <form id="account" method="post">
                        <div class="input-group mb-1">
                            <div class="form-floating">
                                <input id="Input.Email" name="Input.Email" type="email" class="form-control" value=""
                                       placeholder="@Resource.EPosta" required />
                                <label for="Input.Email">@Resource.EPosta</label>
                            </div>
                            <div class="input-group-text"><span class="bi bi-envelope"></span></div>
                        </div>

                        <div class="input-group mb-1">
                            <div class="form-floating flex-grow-1">
                                <input id="Input.Password" name="Input.Password"
                                       type="password"
                                       class="form-control"
                                       data-preserve-case="true"
                                       placeholder="@Resource.Şifre" required />
                                <label for="Input.Password">@Resource.Şifre</label>
                            </div>

                            <div class="input-group-text"><span class="bi bi-lock-fill"></span></div>

                            <button type="button"
                                    id="togglePassword"
                                    class="input-group-text bg-transparent border-start-0"
                                    aria-label="@Resource.SifreyiGoster"
                                    title="@Resource.GosterGizle">
                                <span class="bi bi-eye"></span>
                            </button>
                        </div>

                        <div class="row">
                            <div class="col-8 d-inline-flex align-items-center">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="" id="Input.RememberMe" />
                                    <label class="form-check-label" for="Input.RememberMe"> @Resource.BeniHatirla </label>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="d-grid gap-2">
                                    <button type="submit" class="btn btn-primary">@Resource.GirisYapButton</button>
                                </div>
                            </div>
                        </div>
                    </form>
                    @*
                    <div class="social-auth-links text-center mb-3 d-grid gap-2">
                    <p>- OR -</p>
                    <a href="#" class="btn btn-primary">
                    <i class="bi bi-facebook me-2"></i> Sign in using Facebook
                    </a>
                    <a href="#" class="btn btn-danger">
                    <i class="bi bi-google me-2"></i> Sign in using Google+
                    </a>
                    </div>
                    *@
                    <p class="mb-1"><a href="ForgotPassword">@Resource.SifremiUnuttum</a></p>
                    <p class="mb-0">
                        <a href="Register" class="text-center"> @Resource.YeniUyelikOlustur </a>
                    </p>
                </div>
            </div>
        </div>
    </center>
    <br />
    <br />
    <script src="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.10.1/browser/overlayscrollbars.browser.es6.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
    <script src="~/dist/js/adminlte.js"></script>
    <script>
        const SELECTOR_SIDEBAR_WRAPPER = '.sidebar-wrapper';
        const Default = {
            scrollbarTheme: 'os-theme-light',
            scrollbarAutoHide: 'leave',
            scrollbarClickScroll: true,
        };
        document.addEventListener('DOMContentLoaded', function () {
            const sidebarWrapper = document.querySelector(SELECTOR_SIDEBAR_WRAPPER);
            if (sidebarWrapper && typeof OverlayScrollbarsGlobal?.OverlayScrollbars !== 'undefined') {
                OverlayScrollbarsGlobal.OverlayScrollbars(sidebarWrapper, {
                    scrollbars: {
                        theme: Default.scrollbarTheme,
                        autoHide: Default.scrollbarAutoHide,
                        clickScroll: Default.scrollbarClickScroll,
                    },
                });
            }
        });
    </script>
    <script>
        (function () {
            const input = document.getElementById('Input.Password');
            const btn = document.getElementById('togglePassword');

            // Resource değerlerini JS içine alıyoruz
            const txtShow = "@Html.Raw(Resource.SifreyiGoster)";
            const txtHide = "@Html.Raw(Resource.SifreyiGizle)";

            if (!input || !btn) return;

            btn.addEventListener('click', function () {
                const isPwd = input.type === 'password';
                input.type = isPwd ? 'text' : 'password';

                // erişilebilirlik & ikon güncelle
                // Burayı da dinamik yaptık
                this.setAttribute('aria-label', isPwd ? txtHide : txtShow);

                const icon = this.querySelector('span');
                if (icon) {
                    icon.classList.toggle('bi-eye');
                    icon.classList.toggle('bi-eye-slash');
                }
            });
        })();
    </script>

</body>
</html>